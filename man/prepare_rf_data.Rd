% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prototype_random_forest.R
\name{prepare_rf_data}
\alias{prepare_rf_data}
\title{Prepare data for the random-forest training (including optional imputation)}
\usage{
prepare_rf_data(settings, poptrag)
}
\arguments{
\item{settings}{A named list of pipeline settings (must contain
\code{subsample_prop}, \code{casewise_threshold}, \code{seed},
\code{artist_initial_split}, \code{apply_imputation}, \code{n_cores},
\code{drop_POPULARMUSIC}, \code{metagenre_detail}).}

\item{poptrag}{A data.frame or tibble containing the full poptrag dataset used for feature selection.}
}
\value{
A list with elements:
\describe{
\item{imputer_model}{trained imputer or NULL}
\item{datasets}{list with elements \code{mb} and \code{s}, each a list with \code{train} and \code{test} data.frames}
}
}
\description{
Runs the full data preparation pipeline up to and including optional
missForest imputation. Always returns train and test sets for both
MusicBrainz ("mb") and Spotify ("s").
}
